# O2_TRANS  
<img src="/Figures/O2_TRAN_ICON_black.png" width="100" height="100">

<div style="text-align:center">

The O2_TRANS software package allows computing the oxygen transmittance at high spectral resolution at specific (T,p) conditions.
The code is fully based on the HITRAN database and formulation. The O2_TRANS software package is provided as a response for a practical solution to compensate for oxygen absorption effects when measuring solar-induced fluorescence on proximal sensing applications at high spectral resolution. The O2_TRANS package **does not include** the **influence of the relative humidity**, the **wind speed or turbulency effects** on its computation. Likewise, **the O2 mixing ratio is assumed as fixed**. The O2_TRANS package **does not account for the aerosol transmittance effect**, therefore being only applicable for fluorescence retrievals on instrument set-up configurations accounting for a few meters target-sensor distance. **The code is open source** and can be accessed through this GIT repository allowing other researchers to contribute, improve and adapt it for their specific needs.


More information regarding the O2_TRANS software package can be found in the following Technical publication: (coming soon :) )


Please, if you have any suggestion to improve or to correct the O2_TRANS software package, contact us :+1:
We'll be really glad for your contribution!

Use the O2_TRANS freely but under your own responsability :wink:

### Contact author:

:email: neus.sabater@fmi.fi  (Finnish Meteorological Institute (FMI))

:earth_africa: https://en.ilmatieteenlaitos.fi/cv-neus-sabater


# O2_TRANS archive architecture
The O2_TRANS archive is organized as follows:

* :file_folder: [`O2_TRANS/codes/`](O2_TRANS/codes/)
  * `main_o2trans.m`
  * `read_inputs.m`
  * `configure_settings.com`
  * `air_densinty.m`
  * `O2_density.m`
  * `O2_optical_depth.m`
  * .... [Others]
  

* :file_folder: [`O2_TRANS/compiled/`](O2_TRANS/compiled/)
  
  
* :file_folder: [`O2_TRANS/test/`](O2_TRANS/test/)
  * :page_facing_up: [`Input_example.txt`](O2_TRANS/test/Input_example.txt)
  * :page_facing_up: [`Input_example_GEO.txt`](O2_TRANS/test/Input_example_GEO.txt)
  * :file_folder: [`/figures_test/`](O2_TRANS/test/figures_test/)
  * :file_folder: [`/outputs_test/`](O2_TRANS/test/outputs_test/)
    * :page_facing_up: `Transmittance_O2A.txt`
    * :page_facing_up: `Transmittance_O2B.txt`


* :file_folder: [`O2_TRANS/AUX/`](O2_TRANS/AUX/)
  * :file_folder: [`/HITRAN/`](O2_TRANS/AUX/HITRAN/)
  * :page_facing_up: `mol_const`





This repository provides the set of matlab scripts to inspect and run the code with the Matlab software :file_folder: [`O2_TRANS/codes/`](O2_TRANS/codes/), and the compiled project to run O2_TRANS without purchaising the Matlab lisence :file_folder: [`O2_TRANS/compiled/`](O2_TRANS/compiled/). In [`O2_TRANS/codes/`](O2_TRANS/codes/), the main script [`/codes/main_o2trans.m`](O2_TRANS/main_o2trans.m) calls all the required functions to compute the oxygen transmittance. 

The [`O2_TRANS/AUX/`](O2_TRANS/AUX/) folder contains the required auxiliary files mostly from HITRAN [https://hitran.org/](https://hitran.org/), but also inlcuding distinct models of atmosphere defined in [Anderson et al. (1986)](https://www.researchgate.net/publication/235054307_AFGL_Atmospheric_Constituent_Profiles_0120km). :warning: This folder is required to run the O2_TRANS software.

In addition, as a test example, the folder [`O2_TRANS/test/`](O2_TRANS/test/) contains two input (*.txt*) files:

* [**/test/input_rad.txt**](O2_TRANS/test/input_rad.txt), which contains the measurements of the (Z,p,t) triplets from a radiosonde, and
* [**/test/input_rad_GEO.txt**](O2_TRANS/test/input_rad_GEO.txt), which contains the Viewing Zenith Angle (VZA) of the sensor. 

Outputs generated when runing the O2_TRANS software making use of this inputs are stored in  [`O2_TRANS/test/outputs_test`](O2_TRANS/test/outputs_test). Likewise, plots generated by default by O2_TRANS are stored in [`O2_TRANS/test/figures_test`](O2_TRANS/test/figures_test)



